\section{从字面量（Literal）到数据类型}

首先来解释一下什么是字面量。在C语言中，字面量指的是
直接出现在源代码中的常量值，无需标识符即可使用。说得
大白话一点，就是代码中一个又一个数据。如\autoref{lst:literal}
所示，代码中出现的一个又一个常量数字如\texttt{42}、\texttt{'A'}、
\texttt{3.1416}、\texttt{Hi}
就是字面量。


\begin{lstlisting}[language=C,caption={C 语言中字面量的示例},label={lst:literal}]
#include <stdio.h>

int main(void) {
    int x = 42;          // 42 是整型字面量
    char c = 'A';        // 'A' 是字符字面量
    double pi = 3.1416;  // 3.1416 是浮点字面量
    printf("%s\n", "Hi"); // "Hi" 是字符串字面量
    return 0;
}
\end{lstlisting}


在我们日常生活中，我们每天都会接触大量的
数据，比如购物、计数。但我们从来不会纠结于
数据类型或是字面量这些乱七八糟的东西。这是因为
在日常生活中，我们普遍使用\textbf{十进制}。

但在计算机中可不是这样，首先在计算机底部存储数字
使用二进制，而其他八进制、十六进制也是经常使用,
再加上由于计算机存储数据的方式不同又诞生了浮点数
、整型数、字符。

所以当你冷不丁地给计算机抛出一个数字42时,计算机
并不能理解这个数字到底是什么进制、类型。




\subsection{定义与概念}
在 \textbf{C 语言标准}（如 ISO/IEC 9899:2018, C17）中，``字面量''（\textit{literal} 或 \textit{literal constant}）是一个正式存在的术语。  
它指的是 \textbf{直接出现在源代码中的常量值}，无需标识符即可使用。

\begin{center}
\begin{tabular}{lll}
\hline
\textbf{字面量类型} & \textbf{示例} & \textbf{说明} \\
\hline
整型字面量 (integer literal) & \verb|123|, \verb|0x7B|, \verb|010| & 十进制、十六进制、八进制整数 \\
浮点型字面量 (floating-point literal) & \verb|3.14|, \verb|1e-3| & 双精度浮点数 \\
字符字面量 (character constant) & \verb|'A'|, \verb|'\n'| & 单个字符，本质为 \verb|int| 类型 \\
字符串字面量 (string literal) & \verb|"Hello"| & 以 \verb|\0| 结尾的 \verb|char| 数组 \\
\hline
\end{tabular}
\end{center}

\subsection{字面量与常量的区别}
\begin{center}
\begin{tabular}{lllll}
\hline
\textbf{名称} & \textbf{是否存在于语法中} & \textbf{是否有标识符} & \textbf{示例} & \textbf{说明} \\
\hline
字面量 (\textit{literal}) & 是 & 否 & \verb|3.14|, \verb|'A'|, \verb|"abc"| & 直接出现在代码中 \\
常量 (\textit{constant}) & 是 & 是 & \verb|const int a = 10;| & 存储在命名空间中 \\
\hline
\end{tabular}
\end{center}

因此，\verb|10| 是一个字面量，而在 \verb|const int a = 10;| 中的 \verb|a| 是一个常量。

\subsection{延伸说明}
\begin{itemize}
  \item C 语言仅定义了四类基本字面量：整型、浮点型、字符和字符串。
  \item C++ 对字面量进行了扩展，例如用户自定义字面量 \verb|42_km|。
  \item 在 C17 标准第 \S6.4 节中，``literal'' 一词被正式用于描述这些常量。
\end{itemize}



\subsection{总结}
在 C 语言标准中，``字面量''（literal）是正式术语，
表示直接出现在源代码中的常量值，如 \verb|10|、\verb|'A'|、\verb|"abc"| 等。 
它们是语法结构的一部分，而非常量变量。

